<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
  <title>WeUI</title>
  <!-- 引入 WeUI CDN 链接 -->
  <link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/2.3.0/weui.min.css" />
  <link rel="stylesheet" href="./iconFont/iconfont.css" />
  <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <!DOCTYPE html>
  <html lang="en">

  <style>
    div.mydiv {


      /*此元素会作为一个表格单元格显示
            （类似 <td> 和 <th>）*/
      display: table-cell;
      /*垂直居中 */
      vertical-align: middle;
      /*水平居中*/
      text-align: center;
    }
  </style>



</head>

<body>
  <!-- 使用 -->
  <!-- <a href="javascript:;" class="weui-btn weui-btn_primary">绿色按钮</a> -->


  <!-- <div class="page">
            <div class="page__hd">
                <h1 class="page__title">Flex</h1>
                <p class="page__desc">Flex布局</p>
            </div>
            <div class="page__bd page__bd_spacing">
                <div class="weui-flex">
                    <div class="weui-flex__item"><div class="placeholder">weui</div></div>
                </div>
                <div class="weui-flex">
                    <div class="weui-flex__item"><div class="placeholder">weui</div></div>
                    <div class="weui-flex__item"><div class="placeholder">weui</div></div>
                </div>
                <div class="weui-flex">
                    <div class="weui-cell__bd">
                        <input id="js_input3" class="weui-input" placeholder="填写绑定的电话号码" type="number" pattern="[0-9]*" />
                    </div>
                    <div class="weui-flex__item"><div class="placeholder">weui</div></div>
                    <div class="weui-cell__bd">
                        <input id="js_input3" class="weui-input" placeholder="填写绑定的电话号码" type="number" pattern="[0-9]*" />
                    </div>
                </div>
            </div>
        </div> -->

  <div class="page">
    <div class="weui-form">
      <div class="weui-form__text-area">
        <h2 class="weui-form__title">表单结构</h2>
        <div class="weui-form__desc">展示表单页面的信息结构样式, 分别由头部区域/控件区域/提示区域/操作区域和底部信息区域组成。</div>
      </div>

      <div class="mydiv">

        <!-- <i class="iconfont">&#xe696;</i> -->
        <div id="elevatorPosition" style="font-size: 58px;font-weight: bold;">...</div>
        <div class="weui-form__tips-area">
          <p class="weui-form__tips">
            电梯当前位置
          </p>
        </div>
      </div>

      <div class="weui-form__control-area">
        <div class="weui-cells__group weui-cells__group_form">
          <div class="weui-cells__title">楼层呼叫</div>
          <div class="weui-cells">
            <label for="js_input1" class="weui-cell weui-cell_active">
              <div class="weui-cell__hd"><span class="weui-label">当前楼层</span>
                <div class="weui-cell__desc"></div>
              </div>
              <div class="weui-cell__bd">
                <input id="js_input1" class="weui-input" placeholder="当前所在楼层" type="number" pattern="[0-9]*" />
              </div>
            </label>
            <label for="js_input2" class="weui-cell weui-cell_active">
              <div class="weui-cell__hd"><span class="weui-label">目标楼层</span>
                <div class="weui-cell__desc"></div>
              </div>
              <div class="weui-cell__bd">
                <input id="js_input2" class="weui-input" placeholder="期望到达楼层" type="number" pattern="[0-9]*" />
              </div>
            </label>

          </div>
        </div>
      </div>
      <!-- <div class="weui-form__tips-area">
                <p class="weui-form__tips">
                  表单页提示，居中对齐
                </p>
              </div> -->
      <div class="weui-form__opr-area">
        <a role="button" disabled aria-disabled="true" class="weui-btn weui-btn_primary weui-btn_disabled"
          href="javascript:" id="showTooltips">呼叫</a>
      </div>
      <!-- <div class="weui-form__tips-area">
                <p class="weui-form__tips">
                  表单页提示，居中对齐
                </p>
              </div> -->
      <div class="weui-form__extra-area">
        <div class="weui-footer">
          <p class="weui-footer__links">
            <a href="javascript:" class="weui-footer__link">底部链接文本</a>
          </p>
          <p class="weui-footer__text">Copyright © 2022 Pure Imagination AI解决方案 × 家琦科技</p>
        </div>
      </div>
    </div>
    <div role="alert" id="js_toast" style="display: none;">
      <div class="weui-mask_transparent"></div>
      <div class="weui-toast">
        <i class="weui-icon-success-no-circle weui-icon_toast"></i>
        <p class="weui-toast__content">已完成</p>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    $(function () {
      var $toast = $('#js_toast');
      var $input1 = $('#js_input1');
      var $input2 = $('#js_input2');
      $input1.on('input', function () {
        if ($input1.val() != '' && $input2.val() != '') {
          $('#showTooltips').removeClass('weui-btn_disabled');
          $('#showTooltips').attr('aria-disabled', 'false');
          $('#showTooltips').removeAttr('disabled');
        } else {
          $('#showTooltips').addClass('weui-btn_disabled');
          $('#showTooltips').addClass('weui-btn_disabled');
          $('#showTooltips').attr('aria-disabled', 'true');
          $('#showTooltips').attr('disabled');
        }
      });
      $input2.on('input', function () {
        if ($input1.val() != '' && $input2.val() != '') {
          $('#showTooltips').removeClass('weui-btn_disabled');
          $('#showTooltips').attr('aria-disabled', 'false');
          $('#showTooltips').removeAttr('disabled');
        } else {
          $('#showTooltips').addClass('weui-btn_disabled');
          $('#showTooltips').addClass('weui-btn_disabled');
          $('#showTooltips').attr('aria-disabled', 'true');
          $('#showTooltips').attr('disabled');
        }
      });
      $('#showTooltips').on('click', function () {
        if ($(this).hasClass('weui-btn_disabled')) return;

        // toptips的fixed, 如果有`animation`, `position: fixed`不生效
        $('.page.cell').removeClass('slideIn');

        $toast.attr('aria-live', 'assertive');
        $toast.fadeIn(100);
        setTimeout(function () {
          $toast.attr('aria-live', 'off');
          $toast.fadeOut(100);
        }, 2000);
      });

      //$('.weui-cell').on('click', function(){
      //  $(this).find('input').trigger('focus');
      //});
    });
  </script>





  <div class="page">


  </div>

</body>
<script>
  getFloor()
  function getFloor() {
    $.ajax("/api/get_current_floor", {
      method: "get",
    }).done(function (res) {
      console.log(res)
      if (res && res.data !== undefined) {
        $("#elevatorPosition").html(res.data);
      }
    });
  }


setInterval(function () { 
    getFloor()
  }, 5000);

</script>

</html>